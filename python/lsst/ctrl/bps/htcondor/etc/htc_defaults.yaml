provisionResources: false
provisioningJob:
  provisioningNodeCount: 10
  provisioningCheckInterval: 600
  provisioningQueue: "milano"
  provisioningAccount: "rubin:developers"
  provisioningPlatform: "s3df"
  provisioningScript: |-
    #!/bin/bash
    set -e
    set -x
    while true; do
        ${CTRL_EXECUTE_DIR}/bin/allocateNodes.py \
            --auto \
            --node-count {provisioningNodeCount} \
            --maximum-wall-clock {provisioningMaxWallTime} \
            --glidein-shutdown {provisioningMaxIdleTime} \
            --queue {provisioningQueue} \
            {provisioningPlatform}
        sleep {provisioningCheckInterval}
    done
    exit 0
  provisioningScriptConfig: |-
    config.platform["{provisioningPlatform}"].user.name="${USER}"
    config.platform["{provisioningPlatform}"].user.home="${HOME}"
